<?xml version="1.0"?>
<flight_control name="FCS: Scarab Plane">

    <channel name="Speedbrake">
        <kinematic name="Speedbrake Control">
            <input>fcs/speedbrake-cmd-norm</input>
            <traverse>
                <setting>
                    <position> 0.0 </position>
                    <time> 0.0 </time>
                </setting>
                <setting>
                    <position> 1.0 </position>
                    <time> 0.6 </time>
                </setting>
            </traverse>
            <output>fcs/speedbrake-pos-norm</output>
            </kinematic>
    </channel>

    <system name="Flaps Control">
        <channel name="Flaps">
            <kinematic name="Flaps Control">
                <input>fcs/flap-cmd-norm</input>
                <traverse>
                    <setting>
                        <position>0</position>
                        <time>0</time>
                    </setting>
                    <setting>
                        <position>30</position>
                        <time>0.8</time> 
                    </setting>
                </traverse>
                <output>fcs/flap-pos-deg</output>
            </kinematic>
        </channel>
    </system>

    <channel name="Pitch">
        <summer name="Pitch Trim Sum">
            <input>fcs/elevator-cmd-norm</input>
            <input>fcs/pitch-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Elevator Control">
            <input>fcs/pitch-trim-sum</input>
            <gain>0.01745</gain>
            <range>
                <min>-28</min>
                <max>23</max>
            </range>
            <output>fcs/elevator-pos-rad</output>
        </aerosurface_scale>

        <aerosurface_scale name="Elevator position normalized">
             <input>fcs/elevator-pos-deg</input>
             <domain>
                 <min>-28</min>
                 <max>23</max>
             </domain>
             <range>
                  <min>-1</min>
                  <max>1</max>
             </range>
             <output>fcs/elevator-pos-norm</output>
         </aerosurface_scale>
    </channel>

    <channel name="Roll">
        <summer name="Roll Trim Sum">
            <input>fcs/aileron-cmd-norm</input>
            <input>fcs/roll-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Left Aileron Control">
            <input>fcs/roll-trim-sum</input>
            <gain>0.01745</gain>
            <range>
                <min>-20</min>
                <max>15</max>
            </range>
            <output>fcs/left-aileron-pos-rad</output>
        </aerosurface_scale>

        <aerosurface_scale name="Right Aileron Control">
            <input>fcs/roll-trim-sum</input>
            <gain>0.01745</gain>
            <range>
                <min> 15 </min>
                <max> -20 </max>
            </range>
            <output>fcs/right-aileron-pos-rad</output>
        </aerosurface_scale>

        <aerosurface_scale name="Left Aileron position normalized">
            <input>fcs/left-aileron-pos-deg</input>
            <domain>
                <min>-20</min>
                <max>15</max>
            </domain>
            <range>
                <min>-1</min> 
                <max>1</max>
            </range>
            <output>fcs/left-aileron-pos-norm</output>
        </aerosurface_scale>

        <aerosurface_scale name="Right Aileron position normalized">
            <input>fcs/right-aileron-pos-deg</input>
            <domain>
                <min>-20</min> 
                <max>15</max>
            </domain>
            <range>
                <min>-1</min>
                <max>1</max>
            </range>
            <output>fcs/right-aileron-pos-norm</output>
        </aerosurface_scale>
    </channel>

    <channel name="Yaw">
        <summer name="Yaw Trim Sum">
            <input>fcs/rudder-cmd-norm</input>
            <input>fcs/yaw-trim-cmd-norm</input>
            <clipto>
                <min>-1</min>
                <max>1</max>
            </clipto>
        </summer>

        <aerosurface_scale name="Rudder Control">
            <input>fcs/yaw-trim-sum</input>
            <gain>0.01745</gain>
            <range>
                <min>-25</min>
                <max>25</max>
            </range>
            <output>fcs/rudder-pos-rad</output>
        </aerosurface_scale>

        <aerosurface_scale name="Rudder position normalized">
             <input>fcs/rudder-pos-deg</input>
             <domain>
                  <min>-25</min>
                  <max>25</max>
             </domain>
             <range>
                  <min>-1</min>
                  <max>1</max>
             </range>
             <output>fcs/rudder-pos-norm</output>
        </aerosurface_scale>
    </channel>

    <channel name="Flaps">
        <kinematic name="Flaps Control">
            <input>fcs/flap-cmd-norm</input>
            <traverse>
                <setting>
                    <position>0</position>
                    <time>0</time>
                </setting>
                <setting>
                    <position>10</position>
                    <time>2</time>
                </setting>
                <setting>
                    <position>20</position>
                    <time>1</time>
                </setting>
                <setting>
                    <position>30</position>
                    <time>1</time>
                </setting>
            </traverse>
            <output>fcs/flap-pos-deg</output>
        </kinematic>

        <aerosurface_scale name="Flap position normalized">
             <input>fcs/flap-pos-deg</input>
             <domain>
                <min>0</min>
                <max>30</max>
             </domain>
             <range>
                 <min>0</min>
                 <max>1</max>
             </range>
             <output>fcs/flap-pos-norm</output>
        </aerosurface_scale>
    </channel>
    
</flight_control>